(function(b){b.fn.layerSlider=function(c){if((typeof(c)).match("object|undefined")){return this.each(function(e){new a(this,c)})}else{if(c=="data"){var d=b(this).data("LayerSlider");if(d){return d}}else{return this.each(function(e){var f=b(this).data("LayerSlider");if(f){if(!f.g.isAnimating){if(typeof(c)=="number"){if(c>0&&c<f.g.layersNum+1&&c!=f.g.curLayerIndex){f.change(c)}}else{switch(c){case"prev":f.o.cbPrev();f.prev();break;case"next":f.o.cbNext();f.next();break;case"start":if(!f.g.autoSlideshow){f.o.cbStart();f.start()}break}}}if(f.g.autoSlideshow&&c=="stop"){f.o.cbStop();f.stop()}}})}}};var a=function(e,d){var c=this;c.$el=b(e).addClass("ls-container");c.$el.data("LayerSlider",c);c.init=function(){c.o=b.extend({},a.options,d);c.g=b.extend({},a.global);if(b(e).find(".ls-layer").length==1){b(e).find(".ls-layer:eq(0)").clone().appendTo(b(e))}c.g.sliderOriginalWidth=b(e)[0].style.width;b(e).find('.ls-layer, *[class^="ls-s"]').each(function(){if(b(this).attr("rel")||b(this).attr("style")){if(b(this).attr("rel")){var h=b(this).attr("rel").toLowerCase().split(";")}else{var h=b(this).attr("style").toLowerCase().split(";")}for(x=0;x<h.length;x++){param=h[x].split(":");if(param[0].indexOf("easing")!=-1){param[1]=c.ieEasing(param[1])}b(this).data(b.trim(param[0]),b.trim(param[1]))}}b(this).data("originalLeft",b(this)[0].style.left);b(this).data("originalTop",b(this)[0].style.top)});c.g.layersNum=b(e).find(".ls-layer").length;c.o.firstLayer=c.o.firstLayer<c.g.layersNum+1?c.o.firstLayer:1;c.o.firstLayer=c.o.firstLayer<1?1:c.o.firstLayer;if(c.o.animateFirstLayer==true){c.o.firstLayer=c.o.firstLayer-1==0?c.g.layersNum:c.o.firstLayer-1}c.g.curLayerIndex=c.o.firstLayer;c.g.curLayer=b(e).find(".ls-layer:eq("+(c.g.curLayerIndex-1)+")");c.g.sliderWidth=function(){return b(e).width()};c.g.sliderHeight=function(){return b(e).height()};if(c.o.yourLogo){var g=b("<img>").appendTo(b(e)).attr("src",c.o.yourLogo).attr("style",c.o.yourLogoStyle);if(c.o.yourLogoLink!=false){b("<a>").appendTo(b(e)).attr("href",c.o.yourLogoLink).attr("target",c.o.yourLogoTarget).css({textDecoration:"none",outline:"none"}).append(g)}}b(e).find(".ls-layer").wrapAll('<div class="ls-inner"></div>');if(b(e).css("position")=="static"){b(e).css("position","relative")}b(e).find(".ls-inner").css({backgroundColor:c.o.globalBGColor});if(c.o.globalBGImage){b(e).find(".ls-inner").css({backgroundImage:"url("+c.o.globalBGImage+")"})}b(e).find(".ls-bg").css({marginLeft:-(c.g.sliderWidth()/2)+"px",marginTop:-(c.g.sliderHeight()/2)+"px"});if(c.o.navPrevNext){b('<a class="ls-nav-prev" href="#" />').click(function(h){h.preventDefault();b(e).layerSlider("prev")}).appendTo(b(e));b('<a class="ls-nav-next" href="#" />').click(function(h){h.preventDefault();b(e).layerSlider("next")}).appendTo(b(e))}if(c.o.navStartStop||c.o.navButtons){b('<div class="ls-bottom-nav-wrapper" />').appendTo(b(e));if(c.o.navButtons){b('<span class="ls-bottom-slidebuttons" />').appendTo(b(e).find(".ls-bottom-nav-wrapper"));for(x=1;x<c.g.layersNum+1;x++){b('<a href="#"></a>').appendTo(b(e).find(".ls-bottom-slidebuttons")).click(function(h){h.preventDefault();b(e).layerSlider((b(this).index()+1))})}b(e).find(".ls-bottom-slidebuttons a:eq("+(c.o.firstLayer-1)+")").addClass("ls-nav-active")}if(c.o.navStartStop){b('<a class="ls-nav-start" href="#" />').click(function(h){h.preventDefault();b(e).layerSlider("start")}).prependTo(b(e).find(".ls-bottom-nav-wrapper"));b('<a class="ls-nav-stop" href="#" />').click(function(h){h.preventDefault();b(e).layerSlider("stop")}).appendTo(b(e).find(".ls-bottom-nav-wrapper"))}else{b('<span class="ls-nav-sides ls-nav-sideleft" />').prependTo(b(e).find(".ls-bottom-nav-wrapper"));b('<span class="ls-nav-sides ls-nav-sideright" />').appendTo(b(e).find(".ls-bottom-nav-wrapper"))}}if(c.o.keybNav){b("body").bind("keydown",function(h){if(!c.g.isAnimating){if(h.which==37){c.o.cbPrev();c.prev()}else{if(h.which==39){c.o.cbNext();c.next()}}}})}if("ontouchstart" in window){b(e).bind("touchstart",function(i){var h=i.touches?i.touches:i.originalEvent.touches;if(h.length==1){c.g.touchStartX=c.g.touchEndX=h[0].clientX}});b(e).bind("touchmove",function(i){var h=i.touches?i.touches:i.originalEvent.touches;if(h.length==1){c.g.touchEndX=h[0].clientX}if(Math.abs(c.g.touchStartX-c.g.touchEndX)>45){i.preventDefault()}});b(e).bind("touchend",function(h){if(Math.abs(c.g.touchStartX-c.g.touchEndX)>45){if(c.g.touchStartX-c.g.touchEndX>0){c.o.cbNext();b(e).layerSlider("next")}else{c.o.cbPrev();b(e).layerSlider("prev")}}})}if(c.o.pauseOnHover==true){b(e).find(".ls-inner").hover(function(){c.o.cbPause();if(c.g.autoSlideshow){c.stop();c.g.paused=true}},function(){if(c.g.paused){c.start();c.g.paused=false}})}b(e).addClass("ls-"+c.o.skin);var f=c.o.skinsPath+c.o.skin+"/skin.css";if(document.createStyleSheet){document.createStyleSheet(f)}else{b('<link rel="stylesheet" href="'+f+'" type="text/css" />').appendTo(b("head"))}if(c.o.animateFirstLayer==true){if(c.o.autoStart){c.g.autoSlideshow=true}c.next()}else{c.imgPreload(c.g.curLayer,function(){c.g.curLayer.fadeIn(1000).addClass("ls-active");if(c.o.autoStart){c.start()}})}b(window).resize(function(){c.makeResponsive(c.g.curLayer,function(){return})});b(e).delay(150).queue(function(){c.makeResponsive(c.g.curLayer,function(){return})});c.o.cbInit(b(e))};c.start=function(){if(c.g.autoSlideshow){if(c.g.prevNext=="prev"&&c.o.twoWaySlideshow){c.prev()}else{c.next()}}else{c.g.autoSlideshow=true;c.timer()}};c.timer=function(){var f=b(e).find(".ls-active").data("slidedelay")?parseInt(b(e).find(".ls-active").data("slidedelay")):c.o.slideDelay;clearTimeout(c.g.slideTimer);c.g.slideTimer=window.setTimeout(function(){c.start()},f)};c.stop=function(){clearTimeout(c.g.slideTimer);c.g.autoSlideshow=false};c.ieEasing=function(f){if(b.trim(f.toLowerCase())=="swing"||b.trim(f.toLowerCase())=="linear"){return f.toLowerCase()}else{return f.replace("easeinout","easeInOut").replace("easein","easeIn").replace("easeout","easeOut").replace("quad","Quad").replace("quart","Quart").replace("cubic","Cubic").replace("quint","Quint").replace("sine","Sine").replace("expo","Expo").replace("circ","Circ").replace("elastic","Elastic").replace("back","Back").replace("bounce","Bounce")}};c.prev=function(){var f=c.g.curLayerIndex<2?c.g.layersNum:c.g.curLayerIndex-1;c.g.prevNext="prev";c.change(f,c.g.prevNext)};c.next=function(){var f=c.g.curLayerIndex<c.g.layersNum?c.g.curLayerIndex+1:1;c.g.prevNext="next";c.change(f,c.g.prevNext)};c.change=function(g,f){clearTimeout(c.g.slideTimer);c.g.nextLayerIndex=g;c.g.nextLayer=b(e).find(".ls-layer:eq("+(c.g.nextLayerIndex-1)+")");if(!f){if(c.g.curLayerIndex<c.g.nextLayerIndex){c.g.prevNext="next"}else{c.g.prevNext="prev"}}c.imgPreload(c.g.nextLayer,function(){c.animate()})};c.imgPreload=function(h,j){if(c.o.imgPreload){var f=[];var g=0;if(h.css("background-image")!="none"&&h.css("background-image").indexOf("url")!=-1){var i=h.css("background-image");i=i.match(/url\((.*)\)/)[1].replace(/"/gi,"");f.push(i)}h.find("img").each(function(){f.push(b(this).attr("src"))});h.find("*").each(function(){if(b(this).css("background-image")!="none"&&b(this).css("background-image").indexOf("url")!=-1){var k=b(this).css("background-image");k=k.match(/url\((.*)\)/)[1].replace(/"/gi,"");f.push(k)}});if(f.length==0){c.makeResponsive(h,j)}else{for(x=0;x<f.length;x++){b("<img>").load(function(){if(++g==f.length){c.makeResponsive(h,j)}}).attr("src",f[x])}}}else{c.makeResponsive(h,j)}};c.makeResponsive=function(h,k){h.css({display:"block",visibility:"hidden"});c.resizeSlider();for(var i=0;i<h.children().length;i++){var f=h.children(":eq("+i+")");var g=f.data("originalLeft");var j=f.data("originalTop");if(g&&g.indexOf("%")!=-1){f.css({left:c.g.sliderWidth()/100*parseInt(g)-f.outerWidth()/2})}if(j&&j.indexOf("%")!=-1){f.css({top:c.g.sliderHeight()/100*parseInt(g)-f.outerHeight()/2})}}h.css({display:"none",visibility:"visible"});k();b(this).dequeue()};c.resizeSlider=function(){if(b(e).closest(".ls-wp-forceresponsive-container").length){b(e).closest(".ls-wp-forceresponsive-helper").css({height:b(e).outerHeight(true)});b(e).closest(".ls-wp-forceresponsive-container").css({height:b(e).outerHeight(true)});b(e).closest(".ls-wp-forceresponsive-helper").css({width:b(window).width(),left:-b(window).width()/2});if(c.g.sliderOriginalWidth.split("%")!=-1){var f=parseInt(c.g.sliderOriginalWidth);var g=b("body").width()/100*f-(b(e).outerWidth()-b(e).width());b(e).width(g)}}b(e).find(".ls-inner, .ls-layer").css({width:c.g.sliderWidth(),height:c.g.sliderHeight()});b(e).find(".ls-bg").css({marginLeft:-(c.g.sliderWidth()/2)+"px",marginTop:-(c.g.sliderHeight()/2)+"px"})};c.animate=function(){c.o.cbAnimStart();c.g.isAnimating=true;c.g.nextLayer.addClass("ls-animating");var o=curLayerRight=curLayerTop=curLayerBottom=nextLayerLeft=nextLayerRight=nextLayerTop=nextLayerBottom=layerMarginLeft=layerMarginRight=layerMarginTop=layerMarginBottom="auto";var p=nextLayerWidth=c.g.sliderWidth();var i=nextLayerHeight=c.g.sliderHeight();var k=c.g.prevNext=="prev"?c.g.curLayer:c.g.nextLayer;var f=k.data("slidedirection")?k.data("slidedirection"):c.o.slideDirection;var g=c.g.slideDirections[c.g.prevNext][f];if(g=="left"||g=="right"){p=curLayerTop=nextLayerWidth=nextLayerTop=0;layerMarginTop=0}if(g=="top"||g=="bottom"){i=o=nextLayerHeight=nextLayerLeft=0;layerMarginLeft=0}switch(g){case"left":curLayerRight=nextLayerLeft=0;layerMarginLeft=-c.g.sliderWidth();break;case"right":o=nextLayerRight=0;layerMarginLeft=c.g.sliderWidth();break;case"top":curLayerBottom=nextLayerTop=0;layerMarginTop=-c.g.sliderHeight();break;case"bottom":curLayerTop=nextLayerBottom=0;layerMarginTop=c.g.sliderHeight89;break}c.g.curLayer.css({left:o,right:curLayerRight,top:curLayerTop,bottom:curLayerBottom});c.g.nextLayer.css({width:nextLayerWidth,height:nextLayerHeight,left:nextLayerLeft,right:nextLayerRight,top:nextLayerTop,bottom:nextLayerBottom});var q=c.g.curLayer.data("delayout")?parseInt(c.g.curLayer.data("delayout")):c.o.delayOut;var j=c.g.curLayer.data("durationout")?parseInt(c.g.curLayer.data("durationout")):c.o.durationOut;var n=c.g.curLayer.data("easingout")?c.g.curLayer.data("easingout"):c.o.easingOut;c.g.curLayer.delay(q+j/80).animate({width:p,height:i},j,n,function(){c.g.curLayer=c.g.nextLayer;c.g.curLayerIndex=c.g.nextLayerIndex;b(e).find(".ls-layer").removeClass("ls-active");b(e).find(".ls-layer:eq("+(c.g.curLayerIndex-1)+")").addClass("ls-active").removeClass("ls-animating");b(e).find(".ls-bottom-slidebuttons a").removeClass("ls-nav-active");b(e).find(".ls-bottom-slidebuttons a:eq("+(c.g.curLayerIndex-1)+")").addClass("ls-nav-active");c.g.isAnimating=false;c.o.cbAnimStop();if(c.g.autoSlideshow){c.timer()}});c.g.curLayer.find(' > *[class^="ls-s"]').each(function(){var r=b(this).data("slidedirection")?b(this).data("slidedirection"):g;var z,v;switch(r){case"left":z=-c.g.sliderWidth();v=0;break;case"right":z=c.g.sliderWidth();v=0;break;case"top":v=-c.g.sliderHeight();z=0;break;case"bottom":v=c.g.sliderHeight();z=0;break}var t=b(this).data("slideoutdirection")?b(this).data("slideoutdirection"):false;switch(t){case"left":z=c.g.sliderWidth();v=0;break;case"right":z=-c.g.sliderWidth();v=0;break;case"top":v=c.g.sliderHeight();z=0;break;case"bottom":v=-c.g.sliderHeight();z=0;break}var s=c.g.curLayer.data("parallaxout")?parseInt(c.g.curLayer.data("parallaxout")):c.o.parallaxOut;var A=parseInt(b(this).attr("class").split("ls-s")[1])*s;var u=b(this).data("delayout")?parseInt(b(this).data("delayout")):c.o.delayOut;var w=b(this).data("durationout")?parseInt(b(this).data("durationout")):c.o.durationOut;var y=b(this).data("easingout")?b(this).data("easingout"):c.o.easingOut;if(t=="fade"||(!t&&r=="fade")){b(this).delay(u).fadeOut(w,y)}else{b(this).stop().delay(u).animate({marginLeft:-z*A,marginTop:-v*A},w,y)}});var m=c.g.nextLayer.data("delayin")?parseInt(c.g.nextLayer.data("delayin")):c.o.delayIn;var l=c.g.nextLayer.data("durationin")?parseInt(c.g.nextLayer.data("durationin")):c.o.durationIn;var h=c.g.nextLayer.data("easingin")?c.g.nextLayer.data("easingin"):c.o.easingIn;c.g.nextLayer.delay(q+m).animate({width:c.g.sliderWidth(),height:c.g.sliderHeight()},l,h);c.g.nextLayer.find(' > *[class^="ls-s"]').each(function(){var v=b(this).data("slidedirection")?b(this).data("slidedirection"):g;var u,z;switch(v){case"left":u=-c.g.sliderWidth();z=0;break;case"right":u=c.g.sliderWidth();z=0;break;case"top":z=-c.g.sliderHeight();u=0;break;case"bottom":z=c.g.sliderHeight();u=0;break;case"fade":z=0;u=0;break}var t=c.g.nextLayer.data("parallaxin")?parseInt(c.g.nextLayer.data("parallaxin")):c.o.parallaxIn;var s=parseInt(b(this).attr("class").split("ls-s")[1])*t;var y=b(this).data("delayin")?parseInt(b(this).data("delayin")):c.o.delayIn;var r=b(this).data("durationin")?parseInt(b(this).data("durationin")):c.o.durationIn;var w=b(this).data("easingin")?b(this).data("easingin"):c.o.easingIn;if(v=="fade"){b(this).css({display:"none",marginLeft:0,marginTop:0}).delay(q+y).fadeIn(r,w)}else{b(this).css({display:"block",marginLeft:u*s,marginTop:z*s}).stop().delay(q+y).animate({marginLeft:0,marginTop:0},r,w)}})};c.init()};a.options={autoStart:true,firstLayer:1,twoWaySlideshow:false,keybNav:true,imgPreload:true,navPrevNext:true,navStartStop:true,navButtons:true,skin:"lightskin",skinsPath:"/layerslider/skins/",pauseOnHover:true,globalBGColor:"transparent",globalBGImage:false,animateFirstLayer:false,yourLogo:false,yourLogoStyle:"position: absolute; z-index: 1001; left: 10px; top: 10px;",yourLogoLink:false,yourLogoTarget:"_blank",cbInit:function(){},cbStart:function(){},cbStop:function(){},cbPause:function(){},cbAnimStart:function(){},cbAnimStop:function(){},cbPrev:function(){},cbNext:function(){},slideDirection:"right",slideDelay:4000,parallaxIn:0.45,parallaxOut:0.45,durationIn:1500,durationOut:1500,easingIn:"easeInOutQuint",easingOut:"easeInOutQuint",delayIn:0,delayOut:0};a.global={version:"1.8",autoSlideshow:false,isAnimating:false,layersNum:null,prevNext:"next",slideTimer:null,sliderWidth:null,sliderHeight:null,slideDirections:{prev:{left:"right",right:"left",top:"bottom",bottom:"top"},next:{left:"left",right:"right",top:"top",bottom:"bottom"}}}})(jQuery);